# 3. 생성 패턴

## Table of Contents

  1. [커플링](#커플링) 
  1. [추상 팩토리](#추상-팩토리) 
  1. [빌더](#빌더) 
  1. [팩토리 메서드](#팩토리-메서드) 
  1. [단일체](#단일체) 
  1. [프로토타입](#프로토타입) 
  1. [힌트와 팁](#힌트와-팁) 
  1. [요약](#요약) 
  1. [참조](#참조)

## 커플링

```javascript
var Westeros;
(function (Westeros) {
    var Ruler = (function () {
        function Ruler() {
            this.house = new Westeros.Houses.Targaryen();
        }
        return Ruler;
    })();
    Westeros.Ruler = Ruler;
})(Westeros || (Westeros = {}));
```

```javascript
var Westeros;
(function (Westeros) {
    (function (Houses) {
        var Targaryen = (function () {
            function Targaryen() {
            }
            return Targaryen;
        })();
        Houses.Targaryen = Targaryen;
    })(Westeros.Houses || (Westeros.Houses = {}));
    var Houses = Westeros.Houses;
})(Westeros || (Westeros = {}));
```

**[Back to top](#table-of-contents)**

## 추상 팩토리 

AbstractFactory

### 구현 

```javascript
var Westeros;
(function (Westeros) {
    (function (Ruling) {
        (function (Lannister) {
            var KingJoffery = (function () {
                function KingJoffery() {
                }
                KingJoffery.prototype.makeDecision = function () {
                    console.log("Decision made by King Joffery");
                };
                KingJoffery.prototype.marry = function () {
                };
                return KingJoffery;
            })();
            Lannister.KingJoffery = KingJoffery;

            var LordTywin = (function () {
                function LordTywin() {
                }
                LordTywin.prototype.makeDecision = function () {
                    console.log("Decision made by Lord Tywin");
                };
                return LordTywin;
            })();
            Lannister.LordTywin = LordTywin;

            var LannisterFactory = (function () {
                function LannisterFactory() {
                }
                LannisterFactory.prototype.getKing = function () {
                    return new KingJoffery();
                };
                LannisterFactory.prototype.getHandOfTheKing = function () {
                    return new LordTywin();
                };
                return LannisterFactory;
            })();
            Lannister.LannisterFactory = LannisterFactory;
        })(Ruling.Lannister || (Ruling.Lannister = {}));
        var Lannister = Ruling.Lannister;
    })(Westeros.Ruling || (Westeros.Ruling = {}));
    var Ruling = Westeros.Ruling;
})(Westeros || (Westeros = {}));
```

```javascript
var Westeros;
(function (Westeros) {
    (function (Ruling) {
        (function (Targaryen) {
            var KingAerys = (function () {
                function KingAerys() {
                }
                KingAerys.prototype.makeDecision = function () {
                    console.log("Decision made by King Aerys");
                };
                KingAerys.prototype.marry = function () {
                };
                return KingAerys;
            })();
            Targaryen.KingAerys = KingAerys;

            var LordConnington = (function () {
                function LordConnington() {
                }
                LordConnington.prototype.makeDecision = function () {
                    console.log("Decision made by Lord Connington");
                };
                return LordConnington;
            })();
            Targaryen.LordConnington = LordConnington;

            var TargaryenFactory = (function () {
                function TargaryenFactory() {
                }
                TargaryenFactory.prototype.getKing = function () {
                    return new KingAerys();
                };
                TargaryenFactory.prototype.getHandOfTheKing = function () {
                    return new LordConnington();
                };
                return TargaryenFactory;
            })();
            Targaryen.TargaryenFactory = TargaryenFactory;
        })(Ruling.Targaryen || (Ruling.Targaryen = {}));
        var Targaryen = Ruling.Targaryen;
    })(Westeros.Ruling || (Westeros.Ruling = {}));
    var Ruling = Westeros.Ruling;
})(Westeros || (Westeros = {}));
```

```javascript
var Westeros;
(function (Westeros) {
    (function (Ruling) {
        var CourtSession = (function () {
            function CourtSession(abstractFactory) {
                this.abstractFactory = abstractFactory;
                this.COMPLAINT_THRESHOLD = 10;
            }
            CourtSession.prototype.complaintPresented = function (complaint) {
                if (complaint.severity < this.COMPLAINT_THRESHOLD) {
                    this.abstractFactory.getHandOfTheKing().makeDecision();
                } else
                    this.abstractFactory.getKing().makeDecision();
            };
            return CourtSession;
        })();
        Ruling.CourtSession = CourtSession;
    })(Westeros.Ruling || (Westeros.Ruling = {}));
    var Ruling = Westeros.Ruling;
})(Westeros || (Westeros = {}));
```

```javascript
var courtSession1 = new Westeros.Ruling.CourtSession(new Westeros.Ruling.Targaryen.TargaryenFactory());
courtSession1.complaintPresented({ severity: 8 });
courtSession1.complaintPresented({ severity: 12 });

var courtSession2 = new Westeros.Ruling.CourtSession(new Westeros.Ruling.Lannister.LannisterFactory());
courtSession2.complaintPresented({ severity: 8 });
courtSession2.complaintPresented({ severity: 12 });
```

**[Back to top](#table-of-contents)**

## 빌더 

Builder

### 구현 

```javascript
var Westeros;
(function (Westeros) {
    var Tournament = (function () {
        function Tournament() {
        }
        return Tournament;
    })();
    Westeros.Tournament = Tournament;

    var TournamentBuilder = (function () {
        function TournamentBuilder() {
        }
        TournamentBuilder.prototype.build = function (builder) {
            return builder.build();
        };
        return TournamentBuilder;
    })();
    Westeros.TournamentBuilder = TournamentBuilder;

    var LannisterTournamentBuilder = (function () {
        function LannisterTournamentBuilder() {
        }
        LannisterTournamentBuilder.prototype.build = function () {
            var tournament = new Tournament();
            tournament.events.push(new Event("Joust"));
            tournament.events.push(new Event("Melee"));

            tournament.attendees.push(new Attendee("Jamie"));

            tournament.prizes.push(new Prize("Gold"));
            tournament.prizes.push(new Prize("More Gold"));

            return tournament;
        };
        return LannisterTournamentBuilder;
    })();
    Westeros.LannisterTournamentBuilder = LannisterTournamentBuilder;

    var BaratheonTournamentBuilder = (function () {
        function BaratheonTournamentBuilder() {
        }
        BaratheonTournamentBuilder.prototype.build = function () {
            var tournament = new Tournament();
            tournament.events.push(new Event("Joust"));
            tournament.events.push(new Event("Melee"));

            tournament.attendees.push(new Attendee("Stannis"));
            tournament.attendees.push(new Attendee("Robert"));

            return tournament;
        };
        return BaratheonTournamentBuilder;
    })();
    Westeros.BaratheonTournamentBuilder = BaratheonTournamentBuilder;

    var Event = (function () {
        function Event(name) {
            this.name = name;
        }
        return Event;
    })();
    Westeros.Event = Event;

    var Prize = (function () {
        function Prize(name) {
            this.name = name;
        }
        return Prize;
    })();
    Westeros.Prize = Prize;

    var Attendee = (function () {
        function Attendee(name) {
            this.name = name;
        }
        return Attendee;
    })();
    Westeros.Attendee = Attendee;
})(Westeros || (Westeros = {}));
```

```javascript
var god1 = new Westeros.Religion.SevenGodsAdapter();
var god2 = new Westeros.Religion.DrownedGodAdapter();
var god3 = new Westeros.Religion.OldGodsAdapter();

var gods = [god1, god2, god3];
for(var i =0; i<gods.length; i++){
  gods[i].praryTo();
}
```

**[Back to top](#table-of-contents)**

## 팩토리 메서드 

FactoryMethod

### 구현 

```javascript
var Westeros;
(function (Westeros) {
    (function (Religion) {
        var Prayer = (function () {
            function Prayer() {
            }
            Prayer.prototype.pray = function (godName) {
                GodFactory.Build(godName).prayTo();
            };
            return Prayer;
        })();
        Religion.Prayer = Prayer;

        var GodDeterminant = (function () {
            function GodDeterminant(religionName, prayerPurpose) {
                this.religionName = religionName;
                this.prayerPurpose = prayerPurpose;
            }
            return GodDeterminant;
        })();

        var GodFactory = (function () {
            function GodFactory() {
            }
            GodFactory.Build = function (godName) {
                if (godName === "watery")
                    return new WateryGod();
                if (godName === "ancient")
                    return new AncientGods();
                return new DefaultGod();
            };
            return GodFactory;
        })();

        var WateryGod = (function () {
            function WateryGod() {
            }
            WateryGod.prototype.prayTo = function () {
            };
            return WateryGod;
        })();
        Religion.WateryGod = WateryGod;

        var AncientGods = (function () {
            function AncientGods() {
            }
            AncientGods.prototype.prayTo = function () {
            };
            return AncientGods;
        })();
        Religion.AncientGods = AncientGods;

        var DefaultGod = (function () {
            function DefaultGod() {
            }
            DefaultGod.prototype.prayTo = function () {
            };
            return DefaultGod;
        })();
        Religion.DefaultGod = DefaultGod;
    })(Westeros.Religion || (Westeros.Religion = {}));
    var Religion = Westeros.Religion;
})(Westeros || (Westeros = {}));
```

**[Back to top](#table-of-contents)**

## 단일체 

Singleton

### 구현 

```javascript
var Westeros;
(function (Westeros) {
    var Wall = (function () {
        function Wall() {
            this.height = 0;
            if (Wall._instance)
                return Wall._instance;
            Wall._instance = this;
        }
        Wall.prototype.setHeight = function (height) {
            this.height = height;
        };

        Wall.prototype.getStatus = function () {
            console.log("Wall is " + this.height + " meters tall");
        };
        Wall.getInstance = function () {
            if (!Wall._instance) {
                Wall._instance = new Wall();
            }

            return Wall._instance;
        };
        Wall._instance = null;
        return Wall;
    })();
    Westeros.Wall = Wall;
})(Westeros || (Westeros = {}));
```

```javascript
var wall = Westeros.Wall.getInstance();
wall.setHeight(10);
var wall2 = Westeros.Wall.getInstance();
wall2.getStatus();
var wall3 = new Westeros.Wall();
wall3.getStatus();
wall3.setHeight(20);
var wall4 = new Westeros.Wall();
wall4.getStatus();
```

### 단점 

**[Back to top](#table-of-contents)**

## 프로토타입 

Prototype

### 구현 

```javascript
var Westeros;
(function (Westeros) {
    (function (Families) {
        var Lannister = (function () {
            function Lannister() {
            }
            Lannister.prototype.clone = function () {
                var clone = new Lannister();
                for (var attr in this) {
                    clone[attr] = this[attr];
                }
                return clone;
            };
            return Lannister;
        })();
        Families.Lannister = Lannister;
    })(Westeros.Families || (Westeros.Families = {}));
    var Families = Westeros.Families;
})(Westeros || (Westeros = {}));
```

```javascript
var jamie = new Westeros.Families.Lannister();
jamie.swordSkills = 9;
jamie.charm = 6;
jamie.wealth = 10;

var tyrion = jamie.clone();
tyrion.charm = 10;

console.log(tyrion.wealth);
console.log(tyrion.swordSkills);
```

**[Back to top](#table-of-contents)**

## 힌트와 팁 

**[Back to top](#table-of-contents)**

## 요약 

**[Back to top](#table-of-contents)**

## 참조

* [Gang of Four Design Patterns](http://www.blackwasp.co.uk/gofpatterns.aspx)

**[Back to top](#table-of-contents)**
